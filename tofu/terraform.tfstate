{"version":4,"terraform_version":"1.11.0","serial":3,"lineage":"309844cd-09e4-0a66-95bb-374c8887dffa","outputs":{"api_public_ip":{"value":"56.228.35.35","type":"string"},"api_url":{"value":"http://56.228.35.35:5000","type":"string"},"grafana_url":{"value":"http://13.61.3.55:3000","type":"string"},"monitoring_public_ip":{"value":"13.61.3.55","type":"string"}},"resources":[{"mode":"data","type":"aws_ami","name":"ubuntu","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architecture":"x86_64","arn":"arn:aws:ec2:eu-north-1::image/ami-03e876513b1441cbf","block_device_mappings":[{"device_name":"/dev/sda1","ebs":{"delete_on_termination":"true","encrypted":"false","iops":"0","snapshot_id":"snap-0ce63d3ab3c3634bc","throughput":"0","volume_initialization_rate":"0","volume_size":"8","volume_type":"gp2"},"no_device":"","virtual_name":""},{"device_name":"/dev/sdb","ebs":{},"no_device":"","virtual_name":"ephemeral0"},{"device_name":"/dev/sdc","ebs":{},"no_device":"","virtual_name":"ephemeral1"}],"boot_mode":"uefi-preferred","creation_date":"2025-11-22T06:49:10.000Z","deprecation_time":"2027-11-22T06:49:10.000Z","description":"Canonical, Ubuntu, 22.04, amd64 jammy image","ena_support":true,"executable_users":null,"filter":[{"name":"name","values":["ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"]},{"name":"virtualization-type","values":["hvm"]}],"hypervisor":"xen","id":"ami-03e876513b1441cbf","image_id":"ami-03e876513b1441cbf","image_location":"amazon/ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20251122","image_owner_alias":"amazon","image_type":"machine","imds_support":"","include_deprecated":false,"kernel_id":"","last_launched_time":"","most_recent":true,"name":"ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20251122","name_regex":null,"owner_id":"099720109477","owners":["099720109477"],"platform":"","platform_details":"Linux/UNIX","product_codes":[],"public":true,"ramdisk_id":"","root_device_name":"/dev/sda1","root_device_type":"ebs","root_snapshot_id":"snap-0ce63d3ab3c3634bc","sriov_net_support":"simple","state":"available","state_reason":{"code":"UNSET","message":"UNSET"},"tags":{},"timeouts":null,"tpm_support":"","uefi_data":null,"usage_operation":"RunInstances","virtualization_type":"hvm"},"sensitive_attributes":[]}]},{"mode":"managed","type":"aws_instance","name":"api","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"ami":"ami-03e876513b1441cbf","arn":"arn:aws:ec2:eu-north-1:602951638901:instance/i-0cf663895ca61f9c0","associate_public_ip_address":true,"availability_zone":"eu-north-1b","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-0cf663895ca61f9c0","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.micro","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"mlops-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0112f2cfd9fb141f7","private_dns":"ip-172-31-33-138.eu-north-1.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"172.31.33.138","public_dns":"ec2-56-228-35-35.eu-north-1.compute.amazonaws.com","public_ip":"56.228.35.35","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-04e6c9f93c0dc1beb","volume_size":8,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["mlops-api-sg"],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0318e9b4e5b251624","tags":{"Name":"mlops-api"},"tags_all":{"Name":"mlops-api"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-0709ac1a78c950299"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_key_pair.main","aws_security_group.api_sg","data.aws_ami.ubuntu"]}]},{"mode":"managed","type":"aws_instance","name":"monitoring","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"ami":"ami-03e876513b1441cbf","arn":"arn:aws:ec2:eu-north-1:602951638901:instance/i-05c43de4a93a04b82","associate_public_ip_address":true,"availability_zone":"eu-north-1b","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-05c43de4a93a04b82","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.micro","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"mlops-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-04d9685260626eef9","private_dns":"ip-172-31-34-109.eu-north-1.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"172.31.34.109","public_dns":"ec2-13-61-3-55.eu-north-1.compute.amazonaws.com","public_ip":"13.61.3.55","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-061eb748db02b77b0","volume_size":8,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["mlops-monitoring-sg"],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0318e9b4e5b251624","tags":{"Name":"mlops-monitoring"},"tags_all":{"Name":"mlops-monitoring"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-0c8532f36b2c4ead6"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_key_pair.main","aws_security_group.monitoring_sg","data.aws_ami.ubuntu"]}]},{"mode":"managed","type":"aws_key_pair","name":"main","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:eu-north-1:602951638901:key-pair/mlops-key","fingerprint":"b4:c7:3c:60:5b:a3:95:21:cf:ce:5f:31:f6:28:38:00","id":"mlops-key","key_name":"mlops-key","key_name_prefix":"","key_pair_id":"key-005a53d904573e743","key_type":"rsa","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDQMRkNBu+tC4TQX3Z6U6ry0xLd3PAEKs+XLYhTfI5qJl0fmsqG57DjnQbPVj2c5Mk/rQw00SvHHkCcq8zgMzp7IP9DeMDKAjC5b8dVsErawvzPu40ZU6WcxavNdGpi6r1w2b4tMXi2tzpTtNlzvwxhrFQEk+wMTCQ7yMo4qKUcLWAyBhiQw1H2FacWPGq+r+TK5RhzwSI+QTlXNORCwxf7cG4AvZiFaIVnpuWARjQ4Ww0bmoQsKtE/CBtyZeF4DOnvqYbPHuUHAAq7SFRGX1EQW1+fU8egT2EIvwgkKyUO3hEiAJuUAe2ctt7SAWDWyH0JKyegSWHJooaqf0hiJhR+K7SWxo2mlDjSC4PvIQFmXvHVUY5ienYQDPca0fCfTfIIc8YhWA0hxkHpCMyY0m2yBis13aCMT/iipNFPRyuMln2CnCP98ccj/8cywK6Zy+6vUfcLrPPk0KQE9LizIyTd2pvBFhMZ6Kp8YRdhLEGzMNcwvH2Cw002rfjQhgBtDGcGzRInpqQg93qTLWLRKstXoSzptpzmR8VmrrqchT8nDG5Ej4HgNkqSskhHcEgczjGa2XDSNK71/P83VE0/jPHrKhmSoF9+duLsuNSXCsXbU6mZlCOP15gQgt/+N6YVQINAUpplO87znYjwSLpuppe755yQ57xq3KfKFctvLsO/3w== pablo@PABLOLG","tags":null,"tags_all":{}},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"aws_security_group","name":"api_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:eu-north-1:602951638901:security-group/sg-0709ac1a78c950299","description":"Security group for API server","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0709ac1a78c950299","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"API","from_port":5000,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":5000},{"cidr_blocks":["0.0.0.0/0"],"description":"SSH","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"mlops-api-sg","name_prefix":"","owner_id":"602951638901","revoke_rules_on_delete":false,"tags":null,"tags_all":{},"timeouts":null,"vpc_id":"vpc-04909375d374c941d"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="}]},{"mode":"managed","type":"aws_security_group","name":"monitoring_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:eu-north-1:602951638901:security-group/sg-0c8532f36b2c4ead6","description":"Security group for monitoring server","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0c8532f36b2c4ead6","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Grafana","from_port":3000,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3000},{"cidr_blocks":["0.0.0.0/0"],"description":"Prometheus","from_port":9090,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":9090},{"cidr_blocks":["0.0.0.0/0"],"description":"SSH","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"mlops-monitoring-sg","name_prefix":"","owner_id":"602951638901","revoke_rules_on_delete":false,"tags":null,"tags_all":{},"timeouts":null,"vpc_id":"vpc-04909375d374c941d"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="}]}],"check_results":null}
